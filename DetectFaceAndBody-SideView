import json
from tencentcloud.common import credential
from tencentcloud.common.profile.client_profile import ClientProfile
from tencentcloud.common.profile.http_profile import HttpProfile
from tencentcloud.common.exception.tencent_cloud_sdk_exception import TencentCloudSDKException
from tencentcloud.iai.v20200303 import iai_client, models

try: 
    cred = credential.Credential("AKIDFI5dttmsqWw5xXgavzm45rMGxNYusnKd", "BqHSTQAdrpWx95mAJHxNXR6Xv43qc8ON") 
    httpProfile = HttpProfile()
    httpProfile.endpoint = "iai.tencentcloudapi.com"

    clientProfile = ClientProfile()
    clientProfile.httpProfile = httpProfile
    client = iai_client.IaiClient(cred, "ap-shanghai", clientProfile) 

    req = models.DetectFaceRequest()
    params = {
        "MaxFaceNum": 5,
        "MinFaceSize": 10,
        "Url": "https://online-monitor-1303938097.cos.ap-singapore.myqcloud.com/FaceBodyTest1.jpg",
        "NeedFaceAttributes": 0,
        "NeedQualityDetection": 0,
        "NeedRotateDetection": 0
    }
    req.from_json_string(json.dumps(params))

    resp = client.DetectFace(req) 
    #print(resp.to_json_string())
    data = resp.to_json_string()
    dic = json.loads(data)

    for v in dic['FaceInfos']:
       print(v) 

except TencentCloudSDKException as err: 
    print(err) 

from tencentcloud.bda.v20200324 import bda_client, models

try: 
    cred = credential.Credential("AKIDFI5dttmsqWw5xXgavzm45rMGxNYusnKd", "BqHSTQAdrpWx95mAJHxNXR6Xv43qc8ON") 
    httpProfile = HttpProfile()
    httpProfile.endpoint = "bda.tencentcloudapi.com"

    clientProfile = ClientProfile()
    clientProfile.httpProfile = httpProfile
    client = bda_client.BdaClient(cred, "ap-shanghai", clientProfile) 

    req = models.DetectBodyRequest()
    params = {
        "MaxBodyNum": 2,
        "Url": "https://online-monitor-1303938097.cos.ap-singapore.myqcloud.com/FaceBodyTest1.jpg"
    }
    req.from_json_string(json.dumps(params))

    resp = client.DetectBody(req) 
    #print(resp.to_json_string()) 
    data = resp.to_json_string()
    dic = json.loads(data)

    for v in dic['BodyDetectResults']:
       print(v) 

except TencentCloudSDKException as err: 
    print(err) 
